id: github.com/cloud-native-toolkit/terraform-ibm-object-storage
name: ibm-object-storage
alias: cos
type: terraform
description: |
  Module to work with an IBM Cloud Object Storage instance. If the `provision` flag is true then an new instance
  of IBM Cloud Object Storage is provisioned. Otherwise, the module will find an existing instance with the
  provided name and create a credential. The name and id of the Object Storage instance as well as the name and id
  of the credential instance are exported from the module for use by other modules.
tags:
  - tools
  - infrastructure
  - object storage
  - saas
versions:
  - platforms: []
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-ibm-resource-group
            version: ">= 2.1.0"
    variables:
      - name: resource_group_name
        moduleRef:
          id: resource_group
          output: name
        type: string
      - name: name_prefix
        scope: global
        type: string
      - name: name
        scope: ignore
        type: string
      - name: resource_location
        type: string
        default: global
      - name: tags
        type: list(string)
        default: ""
      - name: plan
        type: string
        default: standard
      - name: provision
        type: string
        default: "true"
    version: v3.0.3
    outputs:
      - name: name
        description: The Object Storage instance name
      - name: id
        description: The Object Storage instance id
      - name: location
        description: The Object Storage instance location
      - name: key_name
        description: The name of the credential provisioned for the Object Storage instance
      - name: key_id
        description: The name of the credential provisioned for the Object Storage instance
  - platforms: []
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-ibm-resource-group
            version: ">= 2.1.0"
    variables:
      - name: resource_group_name
        moduleRef:
          id: resource_group
          output: name
        type: string
        description: Resource group where the cluster has been provisioned.
      - name: name_prefix
        scope: global
        type: string
        description: The prefix name for the service. If not provided it will default to the resource group name
        default: ""
        optional: true
      - name: name
        scope: ignore
        type: string
        description: The name that should be used for the service, particularly when connecting to an existing service. If not provided then the name will be defaulted to {name prefix}-{service}
        default: ""
        optional: true
      - name: resource_location
        type: string
        description: Geographic location of the resource (e.g. us-south, us-east)
        default: global
        optional: true
      - name: tags
        type: list(string)
        description: Tags that should be applied to the service
        default: []
        optional: true
      - name: plan
        type: string
        description: The type of plan the service instance should run under (lite or standard)
        default: standard
        optional: true
      - name: provision
        type: bool
        description: Flag indicating that key-protect instance should be provisioned
        default: true
        optional: true
    version: v3.0.2
    outputs:
      - name: name
        description: The Object Storage instance name
      - name: id
        description: The Object Storage instance id
      - name: location
        description: The Object Storage instance location
      - name: key_name
        description: The name of the credential provisioned for the Object Storage instance
      - name: key_id
        description: The name of the credential provisioned for the Object Storage instance
  - platforms: []
    dependencies:
      - id: resource_group
        refs:
          - source: github.com/cloud-native-toolkit/terraform-ibm-resource-group
            version: ">= 2.1.0"
    variables:
      - name: resource_group_name
        moduleRef:
          id: resource_group
          output: name
        type: string
        description: Resource group where the cluster has been provisioned.
      - name: name_prefix
        scope: global
        type: string
        description: The prefix name for the service. If not provided it will default to the resource group name
        default: ""
        optional: true
      - name: name
        scope: ignore
        type: string
        description: The name that should be used for the service, particularly when connecting to an existing service. If not provided then the name will be defaulted to {name prefix}-{service}
        default: ""
        optional: true
      - name: resource_location
        type: string
        description: Geographic location of the resource (e.g. us-south, us-east)
        default: global
        optional: true
      - name: tags
        type: list(string)
        description: Tags that should be applied to the service
        default: []
        optional: true
      - name: plan
        type: string
        description: The type of plan the service instance should run under (lite or standard)
        default: standard
        optional: true
      - name: provision
        type: bool
        description: Flag indicating that key-protect instance should be provisioned
        default: true
        optional: true
    version: v3.0.1
    outputs:
      - name: name
        description: The Object Storage instance name
      - name: id
        description: The Object Storage instance id
      - name: location
        description: The Object Storage instance location
      - name: key_name
        description: The name of the credential provisioned for the Object Storage instance
      - name: key_id
        description: The name of the credential provisioned for the Object Storage instance
  - platforms: []
    variables:
      - name: resource_group_name
        scope: global
        type: string
        description: Resource group where the cluster has been provisioned.
      - name: name_prefix
        scope: global
        type: string
        description: The prefix name for the service. If not provided it will default to the resource group name
        default: ""
        optional: true
      - name: name
        scope: ignore
        type: string
        description: The name that should be used for the service, particularly when connecting to an existing service. If not provided then the name will be defaulted to {name prefix}-{service}
        default: ""
        optional: true
      - name: resource_location
        type: string
        description: Geographic location of the resource (e.g. us-south, us-east)
        default: global
        optional: true
      - name: tags
        type: list(string)
        description: Tags that should be applied to the service
        default: []
        optional: true
      - name: plan
        type: string
        description: The type of plan the service instance should run under (lite or standard)
        default: standard
        optional: true
      - name: provision
        type: bool
        description: Flag indicating that key-protect instance should be provisioned
    version: v3.0.0
    outputs:
      - name: name
        description: The Object Storage instance name
      - name: id
        description: The Object Storage instance id
      - name: location
        description: The Object Storage instance location
      - name: key_name
        description: The name of the credential provisioned for the Object Storage instance
      - name: key_id
        description: The name of the credential provisioned for the Object Storage instance
  - platforms:
      - kubernetes
      - ocp3
      - ocp4
    variables:
      - name: resource_group_name
        scope: global
        type: string
        description: Resource group where the cluster has been provisioned.
      - name: name_prefix
        scope: global
        type: string
        description: The prefix name for the service. If not provided it will default to the resource group name
        default: ""
        optional: true
      - name: name
        scope: ignore
        type: string
        description: The name that should be used for the service, particularly when connecting to an existing service. If not provided then the name will be defaulted to {name prefix}-{service}
        default: ""
        optional: true
      - name: resource_location
        type: string
        description: Geographic location of the resource (e.g. us-south, us-east)
        default: global
        optional: true
      - name: tags
        type: list(string)
        description: Tags that should be applied to the service
        default: []
        optional: true
      - name: plan
        type: string
        description: The type of plan the service instance should run under (lite or standard)
        default: standard
        optional: true
      - name: provision
        type: bool
        description: Flag indicating that key-protect instance should be provisioned
    version: v2.1.0
    outputs:
      - name: name
        description: The Object Storage instance name
      - name: id
        description: The Object Storage instance id
      - name: location
        description: The Object Storage instance location
      - name: key_name
        description: The name of the credential provisioned for the Object Storage instance
      - name: key_id
        description: The name of the credential provisioned for the Object Storage instance
  - platforms:
      - kubernetes
      - ocp3
      - ocp4
    version: v2.0.2
    variables:
      - name: resource_group_name
        type: string
        description: Resource group where the cluster has been provisioned.
      - name: resource_location
        type: string
        description: Geographic location of the resource (e.g. us-south, us-east)
        default: global
        optional: true
      - name: tags
        type: list(string)
        description: Tags that should be applied to the service
        default: []
        optional: true
      - name: name_prefix
        type: string
        description: The prefix name for the service. If not provided it will default to the resource group name
        default: ""
        optional: true
      - name: plan
        type: string
        description: The type of plan the service instance should run under (lite or standard)
        default: standard
        optional: true
      - name: provision
        type: bool
        description: Flag indicating that key-protect instance should be provisioned
      - name: name
        type: string
        description: The name that should be used for the service, particularly when connecting to an existing service. If not provided then the name will be defaulted to {name prefix}-{service}
        default: ""
        optional: true
